local classautorelay = require("/csos/lib/class-autorelay")
local streetLights = classautorelay.new("right")

local libtick = require("/csos/lib/req-tick")
libtick.SetPeriod(0.25)

function Tick()
  streetLights:Tick()
end

libtick.AddSubscriber(Tick)

while true do
  event, p1, p2, p3 = os.pullEvent()
  libtick.ProcessEvent(event, p1)
end
